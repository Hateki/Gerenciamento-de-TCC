<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->

<html>
    <head>

        <title>Cadastro Pessoa Externa</title>
        <script type="text/javascript">

            function validaCampoNome()
            {
                if (document.cadPform.nomePessoaExterna.value === "") {
                    alert("O Campo obrigatório Nome não foi preenchido!");
                    return false
                }
                else
                    return true;
            }

            function validaCampoSenha1() {

                if (document.cadPform.passwordPessoaExterna.value === "") {
                    alert("O Campo obrigatório Senha não foi preenchido");
                    return false;
                }
                else
                    return true;
            }


            function validaCampoSenha2() {

                if (document.cadPform.passwordPessoaExterna2.value === "") {
                    alert("O Campo obrigatório confirmação de senha não foi preenchido");
                    return false;
                }
                else
                    return true;
            }
            function validaCampoSenhasIguais() {
                senha1 = document.cadPform.passwordPessoaExterna.value;
                senha2 = document.cadPform.passwordPessoaExterna2.value;

                if (senha1 === senha2) {
                    alert("Senhas iguais")
                    return true;
                }
                else
                    alert("As senhas não coincidem")
                return false;
            }

            function validaInst() {

                if (document.cadPform.nomeInstituicao.value === "") {
                    alert("O Campo obrigatório Nome Instituicao não foi preenchido");
                    return false;
                }
                else
                    return true;
            }


            function validarCPF(cpf) {
                var filtro = /^\d{3}.\d{3}.\d{3}-\d{2}$/i;

                if (!filtro.test(cpf))
                {
                    window.alert("CPF inválido. Tente novamente.");
                    return false;
                }

                cpf = remove(cpf, ".");
                cpf = remove(cpf, "-");

                if (cpf.length != 11 || cpf == "00000000000" || cpf == "11111111111" ||
                        cpf == "22222222222" || cpf == "33333333333" || cpf == "44444444444" ||
                        cpf == "55555555555" || cpf == "66666666666" || cpf == "77777777777" ||
                        cpf == "88888888888" || cpf == "99999999999")
                {
                    window.alert("CPF inválido. Tente novamente.");
                    return false;
                }

                soma = 0;
                for (i = 0; i < 9; i++)
                {
                    soma += parseInt(cpf.charAt(i)) * (10 - i);
                }

                resto = 11 - (soma % 11);
                if (resto == 10 || resto == 11)
                {
                    resto = 0;
                }
                if (resto != parseInt(cpf.charAt(9))) {
                    window.alert("CPF inválido. Tente novamente.");
                    return false;
                }

                soma = 0;
                for (i = 0; i < 10; i++)
                {
                    soma += parseInt(cpf.charAt(i)) * (11 - i);
                }
                resto = 11 - (soma % 11);
                if (resto == 10 || resto == 11)
                {
                    resto = 0;
                }

                if (resto != parseInt(cpf.charAt(10))) {
                    window.alert("CPF inválido. Tente novamente.");
                    return false;
                }

                return true;
            }

            function remove(str, sub) {
                i = str.indexOf(sub);
                r = "";
                if (i == -1)
                    return str;
                {
                    r += str.substring(0, i) + remove(str.substring(i + sub.length), sub);
                }

                return r;
            }

            /**
             * MASCARA ( mascara(o,f) e execmascara() ) CRIADAS POR ELCIO LUIZ
             * elcio.com.br
             */
            function mascara(o, f) {
                v_obj = o
                v_fun = f
                setTimeout("execmascara()", 1)
            }

            function execmascara() {
                v_obj.value = v_fun(v_obj.value)
            }

            function cpf_mask(v) {
                v = v.replace(/\D/g, "")                 //Remove tudo o que não é dígito
                v = v.replace(/(\d{3})(\d)/, "$1.$2")    //Coloca ponto entre o terceiro e o quarto dígitos
                v = v.replace(/(\d{3})(\d)/, "$1.$2")    //Coloca ponto entre o setimo e o oitava dígitos
                v = v.replace(/(\d{3})(\d)/, "$1-$2")   //Coloca ponto entre o decimoprimeiro e o decimosegundo dígitos
                return v
            }

<!-- Fim do JavaScript que validará os campos obrigatórios! -->
        </script>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>


    <body>
        <h1>Cadastro </h1>
        <form id="cadPform" name="cadPform" method="post" action=""
              onsubmit="return validaCampoNome(), validaInst(), validaCampoSenha1(), validaCampoSenha2(), validaCampoSenhasIguais();">

            <label for="titulo"></label>
            <h2>Pessoa Externa:</h2>

            Nome Completo: <input name="nomePessoaExterna" type="text" id="nomePessoaExterna" maxlength="200" required/><br></br>
            Instituição: <input name="nomeInstituicao" type="text" id="nomeInstituicao" maxlength="200" required/><br></br>
            Senha: <input name="passwordPessoaExterna" type="password" id="passwordPessoaExterna" maxlength="200" required><br></br>
            Confirmação de Senha: <input name="passwordPessoaExterna2" type="password" id="passwordPessoaExterna2" maxlength="200" required><br></br>
            CPF: <input type="text" name="cpf" id="cpf" onblur="javascript: validarCPF(this.value);" onkeypress="javascript: mascara(this, cpf_mask);"  maxlength="14" required/><br></br>
            Email:<input type="email" name="email" id="email" required><br></br>
                         
            <input type="submit" name="enviar" id="enviar" value="Enviar"   />
        </form>
    </body>
</html>
</html>
